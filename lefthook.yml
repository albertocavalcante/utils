# --- Lefthook Configuration ---
# See: https://github.com/evilmartians/lefthook

pre-commit:
  parallel: true
  commands:
    # Format check
    dprint:
      glob: "*.{md,json}"
      run: dprint check {staged_files}

    # Lint shell scripts
    shellcheck:
      glob: "*.sh"
      run: shellcheck {staged_files}

    # Secret Scanning
    gitleaks:
      run: gitleaks protect --staged --verbose --redact

    # Object Integrity (Custom Policy)
    integrity_check:
      run: ./dotfiles/private/scripts/git/object_integrity.py

